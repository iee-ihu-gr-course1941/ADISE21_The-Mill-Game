
# Mill-Game

## Απαιτήσεις

* Apache2
* Mysql Server
* php

## Οδηγίες Εγκατάστασης

 * Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/ADISE21_The-Mill-Game`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'database' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο database.sql

 * Θα πρέπει να φτιάξετε το αρχείο lib/db_upass.php το οποίο να περιέχει:
```
    <?php
	$DB_PASS = 'κωδικός';
	$DB_USER = 'όνομα χρήστη';
    ?>
```

# Περιγραφή Παιχνιδιού

Κανόνες
Ο πίνακας αποτελείται από ένα πλέγμα με είκοσι τέσσερις διασταυρώσεις ή σημεία. Κάθε παίκτης έχει εννέα πιόνια, ή «άντρες», χρωματισμένα ασπρόμαυρα. Οι παίκτες προσπαθούν να σχηματίσουν «μύλους»—τρεις από τους δικούς τους άντρες σε οριζόντια ή κάθετη γραμμή—επιτρέποντας σε έναν παίκτη να αφαιρέσει τον άντρα ενός αντιπάλου από το παιχνίδι. Ένας παίκτης κερδίζει μειώνοντας τον αντίπαλο σε δύο άντρες (όπου δεν μπορούν πλέον να σχηματίσουν μύλους και έτσι δεν μπορούν να κερδίσουν), ή αφήνοντάς τον χωρίς νόμιμη κίνηση.

Το παιχνίδι εξελίσσεται σε τρεις φάσεις:

Φάση 1: Τοποθέτηση αντρών

Το παιχνίδι ξεκινά με έναν άδειο πίνακα. Οι παίκτες καθορίζουν ποιος θα παίξει πρώτος και μετά εναλλάξ βάζουν τους άνδρες τους έναν έναν στα κενά σημεία. Εάν ένας παίκτης μπορεί να τοποθετήσει τρία από τα κομμάτια του σε συνεχόμενα σημεία, κάθετα ή οριζόντια, έχει σχηματίσει ένα μύλο και μπορεί να αφαιρέσει ένα από τα κομμάτια του αντιπάλου του από το ταμπλό. Δεν μπορεί να αφαίρεση άντρες που έχουν κάνει μύλο εκτός αν δεν μπορεί να αφαίρεση κάποιον άλλον άντρα. Αφού τοποθετηθούν όλοι οι άνδρες, ξεκινά η δεύτερη φάση.

Φάση 2: Κίνηση αντρών
Οι παίκτες συνεχίζουν να εναλλάσσουν κινήσεις, αυτή τη φορά μετακινώντας έναν άνδρα σε ένα διπλανό σημείο. Ένα κομμάτι μπορεί να μην «πηδήξει» ένα άλλο κομμάτι. Οι παίκτες συνεχίζουν να προσπαθούν να σχηματίσουν μύλους και να αφαιρέσουν τα κομμάτια του αντιπάλου τους όπως στην πρώτη φάση. Ένας παίκτης μπορεί να "σπάσει" έναν μύλο μετακινώντας ένα από τα κομμάτια του από έναν υπάρχοντα μύλο και μετά μετακινώντας το πίσω για να σχηματίσει τον ίδιο μύλο για δεύτερη φορά (ή όσες φορές), αφαιρώντας κάθε φορά έναν από τους άνδρες του αντιπάλου του. Η πράξη της απομάκρυνσης του άνδρα ενός αντιπάλου ονομάζεται μερικές φορές «σφυροκόπημα» του αντιπάλου. Όταν ένας παίκτης έχει μειωθεί σε τρεις άνδρες, αρχίζει η τρίτη φάση.

Φάση 3: "Flying"
Όταν ένας παίκτης μειωθεί σε τρία κομμάτια, δεν υπάρχει πλέον περιορισμός σε αυτόν τον παίκτη να μετακινηθεί μόνο σε γειτονικά σημεία: Οι άνδρες του μπορούν να "πετάξουν" (ή να "πηδήσουν) από οποιοδήποτε σημείο σε οποιοδήποτε κενό σημείο.

Ορισμένες πηγές κανόνων λένε ότι αυτός είναι ο τρόπος που παίζεται το παιχνίδι κάποιοι το αντιμετωπίζουν ως παραλλαγή, και κάποιοι δεν το αναφέρουν καθόλου. Ένα εγχειρίδιο παιχνιδιών του 19ου αιώνα το αποκαλεί "πραγματικά ρουστίκ τρόπο παιχνιδιού του παιχνιδιού".Το Flying εισήχθη για να αντισταθμίσει όταν η πιο αδύναμη πλευρά απέχει ένα άτομο από το να χάσει το παιχνίδι.


Η βάση μας κρατάει τους εξής πίνακες και στοιχεία ....

Η εφαρμογή απαπτύχθηκε μέχρι το σημείο .....(αναφέρετε τι υλοποιήσατε και τι όχι)

## Περιγραφη βασης
### board
Πίνακας board κρατάει την κατάσταση του board 
| Attribute | Description | Values
| ----- | ---- | -----
|`x` | συντεταγμένες Χ στον πίνακα | 1...7
|`y` | συντεταγμένες Υ στον πίνακα | 1...7
|`piece_color`| το χρώμα του πιονιού στην θέση Χ/Υ | W, B
| `boardslot` | έλεγχος αν είναι σημείο που μπορεί να αφήσει πιόνι | 1...0

Πίνακας boardempty Για γρήγορη αρχικοποίηση
| Attribute | Description | Values
| ----- | ---- | -----
|`x` | συντεταγμένες Χ στον πίνακα | 1...7
|`y` | συντεταγμένες Υ στον πίνακα | 1...7
|`piece_color`| το χρώμα του πιονιού στην θέση Χ/Υ | W, B
| `boardslot` | έλεγχος αν είναι σημείο που μπορεί να αφήσει πιόνι | 1...0

Πίνακας Players κρατάει τα στοιχεία του παίχτη
| Attribute | Description | Values
| ----- | ---- | -----
|`username` | όνομα παίχτη | varchar
|`piece_color`      | το χρώμα πιονιού που έχει ο κάθε παίχτης  | W, B
|`token`            | το token του κάθε παίχτη                  | varchar
| `piece_number`    | πόσα πιόνια έχει διαθέσιμα ο κάθε παίχτης | 1...9, Default 9

Πινακας game_status κραταει την κατασταση του παιχνιδιου
| Attribute | Description | Values
| ----- | ---- | -----
|`status` | κατάσταση του παιχνιδου | not active','initialized','started','ended','aborded
|`p_turn`      | πιο χρώμα έχει σειρά να παίξει  | W, B
|`result`            | πιος κερδισε το παιχνιδι ή ισοπαλια   | B, W, D
| `last_change`    | τελευταια αλλαγη που εγινε στο παιχνιδι | timestamp


# Περιγραφή API

## Methods


### Board
#### Ανάγνωση Board

```
GET /board/
```

Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board
```
POST /board/
```

Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [Board](#Board).
